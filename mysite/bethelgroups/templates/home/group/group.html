<!DOCTYPE html>
<html>
{% load static %}

<head>

    <title>Portal Betel</title>

    <!--Import Google Icon Font-->
     
    <!--Import materialize.css-->

    <!-- BOOTSTRAP & STYLES -->
    {% include "default/styles_css.html" %}
    <!-- END OF BOOTSTRAP & STYLES -->

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>


    <!--Header -->
    {% include "default/header_default.html" %}
    <!--Header -->


    <!-- Page Layout here -->
    <div class="row">

        <div class="col s12 m4 l3">

        </div>

        <div class="col s12 m8 l9">
            <!-- Note that "m8 l9" was added -->
            <!-- Teal page content

                This content will be:
            9-columns-wide on large screens,
            8-columns-wide on medium screens,
            12-columns-wide on small screens  -->


            <div id="main_content">


                <div class="row">
                    <div class="col s12 m11">
                        <div class="card   darken-1">
                            <div class="card-content white-text">

                                <span class="card-title activator white-text">{{ group_name }}<i class="material-icons right">live_help</i></span>
                                <p>{{ group_type }} fundada em {{ group_data.created_on_date }}</p>

                            </div>


                            <ul class="collection with-header">
                                <li class="collection-header"><h5>Lideres</h5></li>
                                {% for list in leader_users %} 

                                    <li class="collection-item avatar">
                                        <img class="circle" width="60" height="60" avatar="{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}">
                                        <span class="title">{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}</span> 
                                            {% for roles in list.role %}
                                                <p>{{ roles.name }}</p>
                                            {%endfor%}
                                        <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                    </li>

                                {% endfor %}

                                {% for list in host_users %}

                                    <li class="collection-item avatar">
                                        <img class="circle" width="60" height="60" avatar="{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}">
                                        <span class="title">{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}</span> 
                                            {% for roles in list.role %}
                                                <p>{{ roles.name }}</p>
                                            {%endfor%}
                                        <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                    </li>

                                {% endfor %}

                            </ul>

                            {% if groups_over %}
                                <ul class="collection with-header">
                                    <li class="collection-header"><h5>Supervisionado por:</h5></li>
                                    {% for list in groups_over %} 

                                        <li class="collection-item">
                                            <div>{{ list.name }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                            </div>
                                        </li>

                                    {% endfor %}
                                </ul>

                            {% endif %}


                            {% if group_origin %}
                                <ul class="collection with-header">
                                    <li class="collection-header"><h5>Grupo de origem:</h5></li>
                                        <li class="collection-item">
                                            <div>{{ group_origin.name }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                            </div>
                                        </li>
                                </ul>
                            {% endif %}


                            {% if generated_groups %}
                                <ul class="collection with-header">
                                    <li class="collection-header"><h5>Grupos que originou</h5></li>
                                    {% for list in generated_groups %} 

                                        <li class="collection-item">
                                            <div>{{ list.name }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                            </div>
                                        </li>

                                    {% endfor %}
                                </ul>
                            {% endif %}


                            {% if groups_under %}
                                <ul class="collection with-header">
                                    <li class="collection-header"><h5>Supervisionando:</h5></li>
                                    {% for list in groups_under %} 

                                        <li class="collection-item">
                                            <div>{{ list.name }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                            </div>
                                        </li>

                                    {% endfor %}

                                </ul>
                            {% endif %}


                            <div class="card-reveal">
                                <span class="card-title grey-text text-darken-4">+ Detalhes do Grupo<i class="material-icons right">close</i></span>


                                <ul class="collection with-header">

                                    <li class="collection-header"><h5>Endereço</h5></li>                                

                                    <li class="collection-item">
                                        <div>CEP: {{ group_data.addr_zip }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>


                                    <li class="collection-item">
                                        <div>Estado: {{ group_data.addr_state }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>


                                    <li class="collection-item">
                                        <div>Cidade:  {{ group_data.addr_city }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>

                                    <li class="collection-item">
                                        <div>Bairro: {{ group_data.addr_neigh }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>

                                    <li class="collection-item">
                                        <div>Logradouro: {{ group_data.addr_street }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>

                                    <li class="collection-item">
                                        <div>Nro/Complemento: {{ group_data.addr_street_number }}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>

                                </ul>



                                <ul class="collection with-header">

                                    <li class="collection-header"><h5>Dias e Horários</h5></li>                                

                                    <li class="collection-item">
                                        <div>Frequência de reuniões: Semanal
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                        </div>
                                    </li>


                                    <li class="collection-item">
                                        <div>

                                            <!-- TODO make work -->
                                            {% for key, item in group_data.meet_day.items %}

                                                <p>{{ item.key }} : {{group_data.meet_hour.key}}</p>

                                            {% endfor %}
                                            <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>

                                        </div>
                                    </li>                                                                                                                               

                                </ul>                                  

                            </div>



                        </div>
                    </div>

                </div>


                <div class="row">
                    <div class="col s12 m11">
                        <div class="card   darken-1">
                            <div class="card-content white-text">

                                <span class="card-title">Membros</span>
                                <p>{{ users_count }} membros</p>
                                <p></p>

                            </div>


                            <ul class="collection">

                                {% for list in member_users %}

                                    <li class="collection-item avatar">
                                        <img class="circle" width="60" height="60" avatar="{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}">
                                        <span class="title">{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}</span> 
                                            {% for roles in list.role %}
                                                <p>{{ roles.name }}</p>
                                            {%endfor%}
                                        <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                    </li>

                                {% endfor %}   

                            </ul>


                            <div class="card-action">
                                <button class="btn waves-effect waves-light "><i class=" material-icons">add</i></button>                                


                            </div>

                        </div>
                    </div>

                </div>            


                <div class="row">
                    <div class="col s12 m11">
                        <div class="card   darken-1">
                            <div class="card-content white-text">

                                <span class="card-title">Visitantes</span>
                                <p></p>

                            </div>


                            <ul class="collection">

                                {% for list in visitor_users %}

                                    <li class="collection-item avatar">
                                        <img class="circle" width="60" height="60" avatar="{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}">
                                        <span class="title">{{ list.user.extra_data.first_name }} {{ list.user.extra_data.last_name }}</span> 
                                            {% for roles in list.role %}
                                                <p>{{ roles.name }}</p>
                                            {%endfor%}
                                        <a href="{{ base_url }}/usuario/get/{{ list.user.id }}" class="secondary-content"><i class="material-icons">edit</i></a>
                                    </li>

                                {% endfor %}   

                            </ul>


                            <div class="card-action">
                                <button class="btn waves-effect waves-light "><i class=" material-icons">add</i></button>

                            </div>



                        </div>
                    </div>

                </div>


                <div class="row">
                    <div class="col s12 m11">
                        <div class="card   darken-1">
                            <div class="card-content white-text">

                                <span class="card-title">Reuniões de Células</span>
                                <p>{{ meetings.count }} Reuniões(s)</p>
                                <p></p>

                            </div>



                            <ul class="collection">
                                {% for item in meetings %}
                                <li class="collection-item">
                                    <div>{{ item.name }}<a href="{{ base_url }}/evento/get/{{ item.id }}/" class="secondary-content"><i class="material-icons">send</i></a></div>
                                </li>
                                {% endfor %}

                            </ul>


                            <div class="card-action">
                                <button class="btn waves-effect waves-light "><i class=" material-icons">add</i></button>

                            </div>

                        </div>
                    </div>

                </div>                                


                <div class="row">
                    <div class="col s12 m11">
                        <div class="card   darken-1">
                            <div class="card-content white-text">

                                <span class="card-title">Eventos do Grupo</span>
                                <p>{{ events.count }} Evento(s)</p>
                                <p></p>

                            </div>



                            <ul class="collection">
                                {% for item in events %}
                                <li class="collection-item">
                                    <div>{{ item.name }}<a href="{{ base_url }}/evento/get/{{ item.id }}/" class="secondary-content"><i class="material-icons">send</i></a></div>
                                </li>
                                {% endfor %}

                            </ul>


                            <div class="card-action">
                                <button class="btn waves-effect waves-light "><i class=" material-icons">add</i></button>

                            </div>

                        </div>
                    </div>

                </div>


            </div>

        </div>


    </div>



    <!--Import jQuery before materialize.js-->
    <script src="{% static "js/jquery.js" %}"></script>
    <script src="{% static "js/materialize.js" %}"></script>
    <script src="{% static "js/letteravatar.js" %}"></script>


    <script>
        // Initialize collapse button
        $('.button-collapse').sideNav({
            menuWidth: 300, // Default is 240
            edge: 'left', // Choose the horizontal origin
            closeOnClick: true // Closes side-nav on <a> clicks, useful for Angular/Meteor
        });
    </script>


</body>


</html>